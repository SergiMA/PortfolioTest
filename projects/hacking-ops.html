<!DOCTYPE html>
<html lang="en-UK">

<head>
    <meta charset="utf-8">
    <meta name="description" content="Hacking Ops is a sci-fi action/stealth game where you play as a hacker who has infiltrated a corporation's headquarters to steal some documents.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Hacking Ops | Sergi Monzó</title>

    <!-- Style references -->
    <link rel="stylesheet" href="../css/project.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css">

    <!-- Script references -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="js/fontawesome.js" crossorigin="anonymous"></script>
    <script src="../js/common.js"></script>
</head>

<body class="background-image-hacking-ops">
    <div id="start-page" class="content"></div>
    <header>
        <div class="menu">
            <div class="logo"><a href="../index.html#start-page">
                    <p class="bold">Sergi Monzó</p>
                </a></div>

            <label for="menu-icon-mobile-toggle" id="menu-icon-mobile">&#9776;</label>
            <input type="checkbox" id="menu-icon-mobile-toggle" />
            <div class="nav-link-container">
                <div class="nav-link"><a href="../index.html#about-me">
                        <p>About me</p>
                    </a></div>
                <div class="nav-link"><a href="../index.html#my-projects">
                        <p>My projects</p>
                    </a></div>
                <div class="nav-link"><a href="../index.html#my-cv">
                        <p>Résumé</p>
                    </a></div>
                <div class="nav-link"><a href="../index.html#contact">
                        <p>Contact</p>
                    </a></div>
            </div>
        </div>

        <div id="cover-video-wrapper" class="video-wrapper">
            <iframe src="https://www.youtube.com/embed/wjgaQmlc3LE?playlist=wjgaQmlc3LE&autoplay=1&mute=1&loop=1&rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </header>

    <section>
        <div id="project-info" class="backdrop-filter-blur">
            <div class="glitchedHeading">
                <h1 class="glitched-appear-on-scroll light-theme-heading">Hacking Ops</h1>
                <div class="glitch-layers">
                    <div class="glitch-layer"><h1 class="light-theme-heading">Hacking Ops</h1></div>
                    <div class="glitch-layer"><h1 class="light-theme-heading">Hacking Ops</h1></div>
                    <div class="glitch-layer"><h1 class="light-theme-heading">Hacking Ops</h1></div>
                </div>
            </div>
            <div id="project-header">
                <div id="project-state">
                    <div class="project-state-row">
                        <div class="project-state-item project-state-row-heading bold">
                            <p class="light-theme-normal">Project status</p>
                        </div>
                        <div class="project-state-item project-state-row-content">
                            <p class="light-theme-normal">Published</p>
                        </div>
                    </div>
                    <div class="project-state-row">
                        <div class="project-state-item project-state-row-heading bold">
                            <p class="light-theme-normal">Project type</p>
                        </div>
                        <div class="project-state-item project-state-row-content">
                            <p class="light-theme-normal">Bootcamp project</p>
                        </div>
                    </div>
                    <div class="project-state-row">
                        <div class="project-state-item project-state-row-heading bold">
                            <p class="light-theme-normal">Game Engine</p>
                        </div>
                        <div class="project-state-item project-state-row-content">
                            <p class="light-theme-normal">Unity</p>
                        </div>
                    </div>
                    <div class="project-state-row">
                        <div class="project-state-item project-state-row-heading bold">
                            <p class="light-theme-normal">Languages used</p>
                        </div>
                        <div class="project-state-item project-state-row-content">
                            <p class="light-theme-normal">C#</p>
                        </div>
                    </div>
                    <div class="project-state-row">
                        <div class="project-state-item project-state-row-heading bold">
                            <p class="light-theme-normal">Primary role(s)</p>
                        </div>
                        <div class="project-state-item project-state-row-content">
                            <p class="light-theme-normal">Solo developer</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="project-body">
                <p class="light-theme-normal">
                    Hacking Ops is a sci-fi action/stealth game where you play as a hacker who works for a rebel group fighting against a tyrannical corporation.
                    Your mission is to infiltrate the enemy’s headquarters and steal the blueprint of a secret project that could threaten humanity.
                    You can use your hacking device, different kinds of weapons, and your stealth skills to complete your mission.
                </p>
                <p class="light-theme-normal">
                    My main focus in the game has been coding. I used this game to learn and test good clean code practices, trying to follow the SOLID principles
                    and applying multiple design patterns. I developed many things I had never tried before and created code that can be easily exported to other projects.
                    Some of the things I programmed include an inventory system based on weapon holsters, a quest system, IK system, AI, ranged and
                    melee combat (with the capability of reflecting projectiles), and a hacking system that allows you to control security cameras.<br>

                    I used several design patterns in my code, including the Service Locator, Singleton, State, Behaviour Tree, Object Pool, Observer, and Command patterns.
                </p>
                <div class="accordion light-theme-normal">
                    <div>
                        <input type="checkbox" name="hacking-ops-quest-system-accordion" id="hacking-ops-quest-system" class="accordion-input">
                        <label for="hacking-ops-quest-system" class="accordion-label">Quest system</label>
                        <div class="accordion-content">
                            <p>
                                As an example of code, I'll show the Quest System. This system has been made with the primary intention of connecting things in a scene
                                or map to make other things occur. For example, starting a cutscene when the player reaches some point or opening a door when some enemies have died.
                            </p>
                            <p>
                                This system consists of a Quest, which is composed of one or more Goals. Completing all of these Goals will complete the Quest. Then, there
                                maybe some Completion Actions, objects that are waiting for a Quest to be completed, to execute some kind of action. For example, making something appear or disappear.
                            </p>
                            <p>
                                The quest system is split into two sections: the kernel, a common part of this system that can be moved to any kind of game, and the specific section for each game.
                            </p>
                            <div class="accordion light-theme-normal">
                                <div>
                                    <input type="checkbox" name="hacking-ops-quest-system-kernel-accordion" id="hacking-ops-quest-system-kernel" class="accordion-input">
                                    <label for="hacking-ops-quest-system-kernel" class="accordion-label">Quest System kernel</label>
                                    <div class="accordion-content">
                                        <p>
                                            The kernel or common part for every game is composed of Quests and Goals. In this case, I've wanted to make use of an Event Queue and a Service Locator,
                                            but it's optional. I've chosen to use them because I wanted to try as many design patterns as possible. It can be slightly modified to use only C# events.
                                            Right now, I'm using both C# events and the Event Queue.
                                        </p>
                                        <div class="accordion light-theme-normal">
                                            <input type="checkbox" name="hacking-ops-quest-system" id="hacking-ops-snippet-quest" class="accordion-input">
                                            <label for="hacking-ops-snippet-quest" class="accordion-label">CODE SNIPPET [C#] - Quest</label>
                                            <div class="accordion-content">
                                                <pre>
                                                    <code>
using System.Collections.Generic;
using UnityEngine;
using System.Linq;
using HackingOps.Common.Services;
using HackingOps.Common.Events;
using System;

namespace HackingOps.Common.QuestSystem
{
    public class Quest : MonoBehaviour
    {
        public event Action OnQuestStarted;
        public event Action OnQuestCompleted;

        [SerializeField] private List<Goal> _goals;
        [SerializeField] private string _questName;
        [SerializeField] private string _description;

        private bool _isCompleted;

        private void OnEnable()
        {
            foreach (Goal goal in _goals)
            {
                goal.OnGoalCompleted += CheckGoals;
                goal.Init();
                OnQuestStarted?.Invoke();
            }
        }

        private void OnDisable()
        {
            foreach (Goal goal in _goals)
                goal.OnGoalCompleted -= CheckGoals;
        }

        public void CheckGoals()
        {
            _isCompleted = _goals.All(g => g.IsCompleted);

            if (_isCompleted)
            {
                ServiceLocator.Instance.GetService<IEventQueue>().EnqueueEvent(new QuestCompletedData(this));
                OnQuestCompleted?.Invoke();
            }
        }
    }
}
                                                    </code>
                                                </pre>
                                            </div>
                                        </div>
                                        <div class="accordion light-theme-normal">
                                            <input type="checkbox" name="hacking-ops-quest-system" id="hacking-ops-snippet-goal" class="accordion-input">
                                            <label for="hacking-ops-snippet-goal" class="accordion-label">CODE SNIPPET [C#] - Goal</label>
                                            <div class="accordion-content">
                                                <pre>
                                                    <code>
using HackingOps.Common.Events;
using System;
using UnityEngine;

namespace HackingOps.Common.QuestSystem
{
    public abstract class Goal : MonoBehaviour, IEventObserver
    {
        public event Action OnGoalCompleted;

        [field: SerializeField] public string Description { get; protected set; }
        [field: SerializeField] public int RequiredAmount { get; protected set; } = 1;
        
        public int CurrentAmount { get; protected set; }
        public bool IsCompleted { get; protected set; }

        private void OnDisable()
        {
            UnsubscribeFromEvents();
        }

        public virtual void Init()
        {
            SubscribeToEvents();
        }

        public virtual void SubscribeToEvents()
        {

        }

        public virtual void UnsubscribeFromEvents()
        {

        }

        public void Complete()
        {
            IsCompleted = true;
            OnGoalCompleted?.Invoke();
        }

        public void Evaluate()
        {
            if (CurrentAmount >= RequiredAmount)
                Complete();
        }

        public virtual void Process(EventData eventData)
        {
            
        }
    }
}
                                                    </code>
                                                </pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion light-theme-normal">
                                <input type="checkbox" name="hacking-ops-quest-system" id="hacking-ops-specific-content" class="accordion-input">
                                <label for="hacking-ops-specific-content" class="accordion-label">Quest System specific content</label>
                                <div class="accordion-content">
                                    <p>
                                        The specific content about this system is strictly attached to the game, which includes specific Goals and Completion Actions.
                                        There are different kinds of Goals based on the project. For example, a Kill Goal (kill some enemies to complete the goal) or
                                        getting into a specific place. Then we have the Completion Actions: Things that will happen once a specific quest has been completed.
                                        It may be activating and deactivating objects, unlocking a door, or rewarding the player with a weapon, all depending on the
                                        project needs. Let's see a Kill Goal and a CompletionAction that changes the state of some objects, for example.
                                    </p>
                                    <div class="accordion light-theme-normal">
                                        <input type="checkbox" name="hacking-ops-quest-system" id="hacking-ops-snippet-kill-goal" class="accordion-input">
                                        <label for="hacking-ops-snippet-kill-goal" class="accordion-label">CODE SNIPPET [C#] - KillGoal</label>
                                        <div class="accordion-content">
                                            <pre>
                                                <code>
using HackingOps.Characters.Common;
using HackingOps.Common.Events;
using HackingOps.Common.Services;
using UnityEngine;

namespace HackingOps.Common.QuestSystem
{
    public class KillGoal : Goal
    {
        [SerializeField] CharacterId[] _characterIds;

        public override void Init()
        {
            base.Init();
        }

        public override void SubscribeToEvents()
        {
            base.SubscribeToEvents();

            ServiceLocator.Instance.GetService<IEventQueue>().Subscribe(EventIds.CharacterDied, this);
        }

        public override void UnsubscribeFromEvents()
        {
            base.UnsubscribeFromEvents();

            ServiceLocator.Instance.GetService<IEventQueue>().Unsubscribe(EventIds.CharacterDied, this);
        }

        private bool ValidateId(string idToCheck)
        {
            foreach (CharacterId id in _characterIds)
            {
                if (idToCheck == id.Value)
                    return true;
            }

            return false;
        }

        public override void Process(EventData eventData)
        {
            if (IsCompleted)
                return;

            if (eventData.EventId != EventIds.CharacterDied)
                return;


            CharacterDiedData data = eventData as CharacterDiedData;

            if (ValidateId(data.Id) == false)
                return;

            base.Process(data);

            CurrentAmount++;
            Evaluate();
        }
    }
}
                                                </code>
                                            </pre>
                                        </div>
                                    </div>
                                    <div class="accordion light-theme-normal">
                                        <input type="checkbox" name="hacking-ops-quest-system" id="hacking-ops-snippet-completion-action" class="accordion-input">
                                        <label for="hacking-ops-snippet-completion-action" class="accordion-label">CODE SNIPPET [C#] - CompletionActionObjectStateChanger</label>
                                        <div class="accordion-content">
                                            <pre>
                                                <code>
using UnityEngine;

namespace HackingOps.Common.QuestSystem.Quests
{
    public class CompletionQuestObjectStateChanger : MonoBehaviour, ICompletionQuestAction
    {
        [SerializeField] private Quest _quest;
        [SerializeField] private GameObject[] _objectsToDeactivate;
        [SerializeField] private GameObject[] _objectsToActivate;

        private void OnEnable()
        {
            _quest.OnQuestCompleted += ExecuteAction;
        }

        private void OnDisable()
        {
            _quest.OnQuestCompleted -= ExecuteAction;
        }

        public void ExecuteAction()
        {
            foreach (GameObject target in _objectsToDeactivate)
                target.SetActive(false);

            foreach (GameObject target in _objectsToActivate)
                target.SetActive(true);
        }
    }
}
                                                </code>
                                            </pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

</html>